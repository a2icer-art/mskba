# Процессы

Ниже описаны основные процессы, реализованные в проекте на текущий момент.

## Регистрация
1. Пользователь вводит `login`, пароль и опционально email, выбирает роль участника (необязательно).
2. Создается пользователь и профиль.
3. Пользователь автоматически авторизуется и попадает в аккаунт.

### Требования к данным
- `login`: уникальный, используется как основной идентификатор.
- `password`: минимум 6 символов, содержит буквы и цифры.
- `email`: опционально, стандартная валидация.

## Авторизация
1. Вход по `login` и паролю.
2. При ошибке показывается сообщение в модальном окне.

## Аккаунт
1. В боковом меню доступны разделы: Пользователь, Профиль, Контакты, роли участника.
2. Активный раздел определяется маршрутом (Inertia).

## Управление контактами
1. Добавление контакта: выбор типа и значения, валидация уникальности в рамках пользователя и типа.
2. Редактирование возможно только для неподтвержденных контактов.
3. Удаление возможно только для неподтвержденных контактов.

## Подтверждение контакта
1. Нажатие «Подтвердить» создаёт запись подтверждения и генерирует код.
2. До истечения TTL повторный запрос недоступен; показывается таймер ожидания.
3. Неверный код увеличивает счетчик попыток; показывается остаток попыток.
4. При исчерпании попыток поле ввода блокируется, кнопка подтверждения скрывается.
5. Корректный код подтверждает контакт и показывает бейдж подтверждения.

### Технические детали
- Генерация и проверка кода выполняется на бэкенде.
- Отправка кода реализована через заглушки по типам контактов.
- История действий фиксируется аудитом.

## Каталог площадок
1. Страница `/venues` показывает все площадки.
2. Страницы `/venues/<type>` фильтруют по типу.
3. В боковом меню типов активный пункт подсвечивается.

### Навигация по типам
- Название пункта меню берется из `plural_name`, при отсутствии — из `name`.
- URL формируется по `alias` типа с приведением к множественному числу.
