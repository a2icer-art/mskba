# task_name
Статусы оплаты бронирований

# task_status
[100%]

# task_init_description
Бронирования: использовать порядок оплаты в UI и процессе подтверждения.

# task_short_description
Добавить статусы оплаты бронирования и отображение порядка оплаты.

# task_full_description
Нужно расширить статусы бронирований: добавить "ожидает оплату" и "оплачено". Переходы: pending -> awaiting_payment -> paid -> approved. Отмена возможна по логике pending. Действия доступны пользователям с правом venue.booking.confirm. В бронировании фиксировать ссылку на доменную сущность payment_order (слепок). В UI показывать новые статусы везде, где сейчас отображаются статусы бронирований.

# План выполнения задачи
1. Обновить модель/хранилище статусов бронирования и переходы (awaiting_payment, paid). (subtasks/01_statuses.md)
2. Добавить поле payment_order_id и фиксацию слепка при переводе в ожидание оплаты. (subtasks/02_payment_order.md)
3. Обновить UI действий для подтверждения/ожидания оплаты/оплаты/отмены. (subtasks/03_ui_actions.md)
4. Обновить отображение статусов в списках и карточках. (subtasks/04_ui_statuses.md)
5. Обновить документацию и статус задачи. (subtasks/05_docs.md)

Алгоритм проверки:
1. В настройках площадки выбрать порядок оплаты, сохранить.
2. В списке бронирований перевести заявку из pending в «Ожидает оплату» — статус меняется, порядок оплаты виден.
3. Перевести в «Оплачено», затем подтвердить — статус approved.
4. Убедиться, что новые статусы отображаются на странице события и в списке бронирований.
