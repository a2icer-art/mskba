# task_name
Система логирования для сущностей

# task_status
[x]

# task_init_description
Необходимо разработать систему логирования для каждой сущности: решить, как лучше это сделать — внутри bounded context по сущностям или универсально.

# task_short_description
Определить архитектурный подход к логированию для доменных сущностей.

# full_description
Сформировать рекомендацию по системе логирования и аудита изменений доменных сущностей. Описать подход как к универсальной сущности логов, так и к локальным логам в домене. Зафиксировать структуру логов, метаданные, уровни ответственности и точки интеграции.

# План выполнения задачи
1. Описать требования к логированию и аудиту доменных сущностей. (??. `subtasks/step-001.md`)
2. Сформировать архитектурный вариант: универсальные логи и/или локальные в доменах. (??. `subtasks/step-002.md`)
3. Зафиксировать рекомендацию в документации проекта. (??. `subtasks/step-003.md`)
# Рекомендация
- Идти от универсальной сущности логов (AuditLog) с полиморфной связью на любую сущность.
- Лог должен хранить: entity_type, entity_id, action, changes (json), actor_id, created_at, context (ip/user_agent).
- Использовать единую модель для всех доменов, а доменные классы логов оставить только если нужна специфика.
- Триггер логирования — на уровне доменных сервисов/юзкейсов, а не в контроллерах.
- По нужде добавить событийные логи (domain events) для критических действий.

