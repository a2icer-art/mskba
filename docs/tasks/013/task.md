# task_name
Роли участников процесса

# task_status
[x]

# task_init_description
Решить как встроить в концепцию приложения роли (но не те роли, которые имеют отношение к администрированию сайта, такие как: admin, moderator, editor), а роли как участники процесса: игрок, тренер, судья, администратор площадки, медиа / блогер, продавец, персонал, другое).

# task_short_description
Определить концепцию ролей как участников процесса и их место в доменной модели.

# full_description
Разработать концепцию доменных ролей, отличную от ролей административного доступа. Определить, где они живут в домене, как связываются с пользователями и профилями, нужны ли отдельная сущность/таблица, список базовых ролей и основные правила расширения. Зафиксировать рекомендации для бэкенда и будущих сценариев использования.

# План выполнения задачи
1. Зафиксировать текущие роли административного доступа и точки, где нужны роли участников процесса. (см. `subtasks/step-001.md`)
2. Сформировать модель доменных ролей и связей (пользователь, сущность контекста), базовый список ролей и правила расширения. (см. `subtasks/step-002.md`)
3. Обновить документацию по доменам и зафиксировать рекомендации. (см. `subtasks/step-003.md`)
# Рекомендация
- Роли административного доступа (admin/moderator/editor) и роли участников процесса хранить в разных доменах и не смешивать.
- Ввести домен для ролей участников процесса, например App\Domain\Participants.
- Сущности: ParticipantRole (справочник ролей) и ParticipantRoleAssignment (назначения пользователю).
- Назначение роли привязывать к контексту (polymorphic: context_type/context_id), и поддержать глобальные роли без контекста для профиля.
- Базовый список ролей в сиде: player, coach, referee, venue_admin, media, seller, staff, other. Для other предусмотреть custom_title.
- Для сущностей и назначений использовать alias (slug), status, auditing, SoftDeletes.
- При регистрации добавить опциональный выбор глобальной роли участника процесса.

