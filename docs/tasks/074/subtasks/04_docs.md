# Выполнено
- Системные уведомления по статусам бронирований отправляются в виде системных сообщений.
- Диалоги группируются по бронированию, ссылки ведут в событие/бронирование.
- Контакты для ответа: создатель видит админов площадки с ролью, админы — создателя; ответы возможны только через выбор контакта.
- Поллинг 5 сек без сброса диалога: новые сообщения догружаются снизу, старые — по скроллу вверх (по 10).
- Авто‑отмена просроченной оплаты запускается в polling сообщений, троттлинг 30 сек.
- UI сообщений: сортировка диалогов по последнему сообщению, автоскролл вниз, "Начало диалога" при окончании истории, выделение системных диалогов рамкой.
- Отправка сообщений: Ctrl+Enter, защита от спама (раз в 2 сек), статус прочтения исходящих.

# Как проверить
1. Создать бронирование и перевести статус в ожидание оплаты/оплачено/отменено — в `/account/messages` появляется системный диалог.
2. Проверить контакты в системном диалоге: у создателя — админы площадки с ролями, у админов — создатель бронирования.
3. Отправить сообщение через контакт — создаётся прямой диалог.
4. Проверить Ctrl+Enter и ограничение частоты отправки (1 раз в 2 секунды).
5. Скролл вверх в диалоге — подгрузка старых сообщений, внизу — новые с автоскроллом только если пользователь у конца.
6. Прочтение исходящих — галочка появляется после открытия диалога получателем.
7. Дождаться истечения срока оплаты и открыть `/account/messages` — статус бронирования авто‑отменяется.
8. Убедиться, что активным по умолчанию выбран самый свежий диалог, и что системные диалоги выделены рамкой.
