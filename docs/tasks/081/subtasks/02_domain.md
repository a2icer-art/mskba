# step-02
Доменные правила и модель данных.

# Описание
- Определить, какие поля фиксируют выбранный порядок оплаты и срок ожидания.
- Согласовать поведение постоплаты по варианту B.
- Зафиксировать обработку частичной предоплаты как полной с ручной отметкой оплаты.

# Решение
- Режимы оплаты: `prepayment`, `partial_prepayment`, `postpayment` (`App\Domain\Venues\Enums\VenuePaymentOrder`).
- Выбор порядка оплаты фиксируется на уровне заявки (`payment_order_id`, `payment_order_snapshot`), срок ожидания — `payment_due_at`.
- Вариант B: постоплата не подтверждает бронь автоматически. Перевод в `Approved` — отдельным действием менеджера (`confirmBooking`).
- Частичная предоплата трактуется как полная: оплата вне системы, менеджер вручную ставит «оплачено».
- Изменение порядка оплаты допускается до факта оплаты (`AwaitingPayment` без `Paid`), после оплаты — запрещено.
