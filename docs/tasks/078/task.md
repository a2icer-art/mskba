# task_name
WebSocket для уведомлений и сообщений

# task_status
[x]

# task_init_description
Перевести уведомления и сообщения с polling на WebSocket.

# task_short_description
Заменить polling сообщений и счетчиков уведомлений на WebSocket‑события.

# task_full_description
Перевести обновление сообщений, списка диалогов и счетчиков уведомлений с текущего polling на WebSocket.
Нужно заменить периодические HTTP‑запросы на серверные события, учесть авторизацию приватных каналов,
обновление счетчиков непрочитанных сообщений и актуализацию активного диалога.
Переход должен сохранить текущий UX без перезагрузок и лишних запросов.

При реализации:
- определить каналы (по пользователю и по диалогу) и правила доступа;
- описать payload событий и порядок применения на фронте;
- обеспечить совместимость с текущей логикой (счетчики, обновление списков, отметка прочитанного);
- удалить или минимизировать polling после перехода;
- сохранить безопасность (private channels, auth, ограничения доступа).

# План выполнения задачи
1. Аудит текущего polling и точек обновления в UI/Backend. См. `docs/tasks/078/subtasks/01_audit.md`.
2. Подготовка broadcasting‑инфраструктуры (config, channels, env, зависимости). См. `docs/tasks/078/subtasks/02_infra.md`.
3. Backend‑события и payload‑контракты для сообщений/уведомлений. См. `docs/tasks/078/subtasks/03_backend.md`.
4. Frontend‑подписки (Echo) и замена polling. См. `docs/tasks/078/subtasks/04_frontend.md`.
5. Очистка/минимизация polling, документация и проверка. См. `docs/tasks/078/subtasks/05_docs.md`.
