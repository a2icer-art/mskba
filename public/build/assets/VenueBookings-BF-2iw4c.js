import{u as Ce,c as p,r as y,w as J,A as Pe,a as U,b as n,d as s,f as A,e as u,n as g,g as oe,m as k,j as h,v as ne,F as B,i as L,l as E,h as r,t as i,k as T,B as je,o,z as Oe}from"./app-BG8bJDk_.js";import{_ as Me}from"./Breadcrumbs-BJkTr2TQ.js";import{_ as De,a as Ve}from"./MainHeader-CSzL04-A.js";import{_ as Ue}from"./MainSidebar-Gh5823Zl.js";import{_ as Ae}from"./SystemNoticeStack-D6BD3byq.js";const Be={class:"relative min-h-screen overflow-hidden bg-[#f7f1e6] text-slate-900"},Le={class:"relative mx-auto flex max-w-[1360px] flex-col gap-8 px-6 py-8"},Ee={class:"rounded-3xl border border-slate-200/80 bg-white/90 p-6 shadow-sm page-content-wrapper"},Fe={class:"mt-4 flex flex-wrap items-center justify-between gap-3"},ze={class:"flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},He=["value"],Re={key:0,class:"mt-6 rounded-2xl border border-dashed border-slate-200 bg-white px-4 py-6 text-sm text-slate-500"},We={key:1,class:"mt-6 grid gap-3"},Ie={class:"flex flex-wrap items-start justify-between gap-4"},qe={class:"text-lg font-semibold text-slate-900"},Ge={class:"mt-1 text-sm text-slate-600"},Je={class:"mt-2 text-sm text-slate-700"},Ke={key:0,class:"mt-1 text-xs text-slate-500"},Qe={key:1,class:"mt-1 text-xs text-slate-500"},Xe={key:2,class:"mt-1 text-xs text-slate-500"},Ye={key:3,class:"mt-1 text-xs text-slate-500"},Ze={key:4,class:"mt-1 text-xs text-slate-500"},et={class:"flex flex-col items-end gap-2"},tt={key:0,class:"text-xs text-slate-500"},st={key:1,class:"text-xs text-slate-500"},at={key:2,class:"text-xs text-slate-500"},lt={key:3,class:"text-xs text-slate-500"},rt={class:"flex flex-wrap items-center gap-2"},ot=["disabled","onClick"],nt=["disabled","onClick"],it=["disabled","onClick"],dt=["disabled","onClick"],ut={key:2,class:"mt-4 flex flex-wrap items-center gap-2 text-sm"},mt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4"},pt={class:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white shadow-xl"},ct={class:"popup-body max-h-[500px] overflow-y-auto px-6 pt-4"},xt={class:"text-sm text-slate-700"},bt={class:"mt-1 text-sm text-slate-600"},_t={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},vt={key:0,class:"text-xs text-rose-700"},yt={class:"popup-footer flex flex-wrap justify-end gap-3 border-t border-slate-200/80 px-6 py-4"},ft=["disabled"],gt=["disabled"],ht={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4"},wt={class:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white shadow-xl"},kt={class:"popup-body max-h-[500px] overflow-y-auto px-6 pt-4"},St={class:"text-sm text-slate-700"},Tt={class:"mt-1 text-sm text-slate-600"},Nt={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},$t=["value"],Ct={key:0,class:"text-xs text-rose-700"},Pt={key:1,class:"mt-4 space-y-2"},jt={class:"flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.15em] text-slate-500"},Ot=["step","max"],Mt={key:2,class:"text-xs text-rose-700"},Dt={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},Vt={key:3,class:"text-xs text-amber-700"},Ut={key:4,class:"text-xs text-rose-700"},At={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},Bt={key:5,class:"text-xs text-rose-700"},Lt={class:"popup-footer flex flex-wrap justify-end gap-3 border-t border-slate-200/80 px-6 py-4"},Et=["disabled"],Ft=["disabled"],zt={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4"},Ht={class:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white shadow-xl"},Rt={class:"popup-body max-h-[500px] overflow-y-auto px-6 pt-4"},Wt={class:"text-sm text-slate-700"},It={class:"mt-1 text-sm text-slate-600"},qt={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},Gt={key:0,class:"text-xs text-rose-700"},Jt={class:"popup-footer flex flex-wrap justify-end gap-3 border-t border-slate-200/80 px-6 py-4"},Kt=["disabled"],Qt=["disabled"],Xt={key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4"},Yt={class:"w-full max-w-lg rounded-3xl border border-slate-200 bg-white shadow-xl"},Zt={class:"popup-body max-h-[500px] overflow-y-auto px-6 pt-4"},es={class:"text-sm text-slate-700"},ts={class:"mt-1 text-sm text-slate-600"},ss={class:"mt-4 flex flex-col gap-1 text-xs uppercase tracking-[0.15em] text-slate-500"},as={key:0,class:"text-xs text-rose-700"},ls={class:"popup-footer flex flex-wrap justify-end gap-3 border-t border-slate-200/80 px-6 py-4"},rs=["disabled"],os=["disabled"],ps={__name:"VenueBookings",props:{appName:{type:String,default:"Laravel"},venue:{type:Object,default:null},bookings:{type:Object,default:()=>({data:[],links:[]})},paymentOrderOptions:{type:Array,default:()=>[]},paymentDefaults:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({status:""})},canConfirm:{type:Boolean,default:!1},canCancel:{type:Boolean,default:!1},navigation:{type:Object,default:()=>({title:"Площадки",data:[]})},activeHref:{type:String,default:""},activeTypeSlug:{type:String,default:""},breadcrumbs:{type:Array,default:()=>[]}},setup(w){const m=w,K=Ce(),ie=p(()=>K.props?.flash?.notice??""),de=p(()=>K.props?.errors?.booking??""),Q=p(()=>m.navigation?.data??m.navigation?.items??[]),X=p(()=>(Q.value?.length??0)>0),F=y(m.filters?.status||""),ue=[{value:"",label:"Все"},{value:"pending",label:"Ожидает"},{value:"awaiting_payment",label:"Ожидает оплату"},{value:"paid",label:"Оплачено"},{value:"approved",label:"Подтверждено"},{value:"cancelled",label:"Отменено"}],Y=p(()=>m.bookings?.data??[]),z=p(()=>m.paymentOrderOptions??[]),N=p(()=>m.paymentDefaults??{});J(F,a=>{!m.venue?.alias||!m.activeTypeSlug||Pe.get(`/venues/${m.activeTypeSlug}/${m.venue.alias}/bookings`,{status:a||void 0},{preserveScroll:!0,preserveState:!0,replace:!0})});const v=a=>{if(!a)return"—";const t=new Date(a);return Number.isNaN(t.getTime())?a:t.toLocaleString("ru-RU")},me=(a,t)=>{if(!a||!t)return"—";const e=new Date(a),_=new Date(t);if(Number.isNaN(e.getTime())||Number.isNaN(_.getTime()))return`${a} – ${t}`;const G=e.toLocaleDateString("ru-RU"),Ne=e.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),$e=_.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"});return`${G}, ${Ne} – ${$e}`},pe=a=>a==="awaiting_payment"?"Ожидает оплату":a==="paid"?"Оплачено":a==="approved"?"Подтверждено":a==="cancelled"?"Отменено":"Ожидает",ce=a=>a==="auto"?"Автоматически":a==="manual"?"Модератор":"",Z=a=>z.value.find(t=>t.value===a),$=p(()=>Z(l.payment_order_id)),ee=p(()=>$.value?.code==="postpayment"),te=p(()=>$.value?.code==="partial_prepayment");p(()=>$.value?.code==="prepayment");const f=y(!1),xe=p(()=>f.value?1:.25),be=p(()=>f.value?10080:168),C=y(!1),H=y(null),P=y(0),_e=a=>a==null||Number.isNaN(Number(a))?"—":`${Number(a)} ₽`,se=a=>a?a.payment_partial_amount_minor?a.payment_partial_amount_minor:a.payment_amount_minor?a.payment_amount_minor:a.payment_total_amount_minor?a.payment_total_amount_minor:null:null,ve=a=>{if(!a?.starts_at||!a?.ends_at)return 0;const t=new Date(a.starts_at),e=new Date(a.ends_at);if(Number.isNaN(t.getTime())||Number.isNaN(e.getTime()))return 0;const _=Math.ceil((e.getTime()-t.getTime())/6e4);return _>0?_:0},ae=a=>{const t=ve(a),e=Math.max(1,Number(N.value.rental_duration_minutes||0)),_=Number(N.value.rental_price_rub||0);if(!t||!_)return 0;const G=t/e;return Math.round(G*_)},S=()=>{const a=ae(d.value);return P.value>0?P.value:a},j=p(()=>{if(!te.value)return!1;const a=Number(l.partial_amount_minor??0),t=S();return t>0&&a>=t}),le=a=>{const t=Number(a??0);if(t===0){f.value=!1,l.payment_wait_minutes=0;return}if(t%60===0){f.value=!1,l.payment_wait_minutes=t/60;return}f.value=!0,l.payment_wait_minutes=t},re=()=>{C.value=!0,H.value&&clearTimeout(H.value),H.value=setTimeout(()=>{C.value=!1},2e3)},O=y(!1),M=y(!1),D=y(!1),V=y(!1),d=y(null);p(()=>O.value||M.value||D.value||V.value);const c=U({comment:""}),x=U({comment:""}),l=U({comment:"",payment_order_id:null,payment_wait_minutes:null,payment_wait_is_minutes:null,partial_amount_minor:null}),b=U({comment:""}),ye=a=>{d.value=a,c.reset("comment"),c.clearErrors(),O.value=!0},R=()=>{O.value=!1,d.value=null,c.reset("comment"),c.clearErrors()},fe=a=>{d.value=a,x.reset("comment"),x.clearErrors(),M.value=!0},W=()=>{M.value=!1,d.value=null,x.reset("comment"),x.clearErrors()},ge=a=>{d.value=a;const t=a?.payment_order_id??N.value.payment_order_id??z.value[0]?.value??null;if(l.reset("comment","payment_wait_minutes","partial_amount_minor"),l.payment_order_id=t,le(N.value.payment_wait_minutes??null),P.value=a?.payment_total_amount_minor??ae(a),$.value?.code==="partial_prepayment"){const e=S();l.partial_amount_minor=a?.payment_partial_amount_minor??(e?Math.ceil(e*.5):null)}else l.partial_amount_minor=S()||null;l.clearErrors(),D.value=!0},I=()=>{D.value=!1,d.value=null,l.reset("comment","payment_wait_minutes","partial_amount_minor"),f.value=!1,P.value=0,l.clearErrors()},he=a=>{d.value=a,b.reset("comment"),b.clearErrors(),V.value=!0},q=()=>{V.value=!1,d.value=null,b.reset("comment"),b.clearErrors()},we=()=>{!d.value?.id||!m.venue?.alias||!m.activeTypeSlug||c.post(`/venues/${m.activeTypeSlug}/${m.venue.alias}/bookings/${d.value.id}/confirm`,{preserveScroll:!0,onSuccess:R})},ke=()=>{!d.value?.id||!m.venue?.alias||!m.activeTypeSlug||x.post(`/venues/${m.activeTypeSlug}/${m.venue.alias}/bookings/${d.value.id}/cancel`,{preserveScroll:!0,onSuccess:W})},Se=()=>{!d.value?.id||!m.venue?.alias||!m.activeTypeSlug||j.value&&!window.confirm("Введенная стоимость равна или больше полной. Продолжить?")||(l.payment_wait_is_minutes=ee.value?null:f.value,l.post(`/venues/${m.activeTypeSlug}/${m.venue.alias}/bookings/${d.value.id}/await-payment`,{preserveScroll:!0,onSuccess:I}))},Te=()=>{!d.value?.id||!m.venue?.alias||!m.activeTypeSlug||b.post(`/venues/${m.activeTypeSlug}/${m.venue.alias}/bookings/${d.value.id}/mark-paid`,{preserveScroll:!0,onSuccess:q})};return J(()=>l.payment_order_id,a=>{const t=Z(a);if(!t||t.code==="postpayment"){l.payment_wait_minutes=null,l.payment_wait_is_minutes=null,l.partial_amount_minor=null;return}if(l.payment_wait_minutes===null&&le(N.value.payment_wait_minutes??null),t.code==="partial_prepayment"&&l.partial_amount_minor===null){const e=S();l.partial_amount_minor=e?Math.ceil(e*.5):null}t.code!=="partial_prepayment"?l.partial_amount_minor=S()||null:l.partial_amount_minor===null&&d.value?l.partial_amount_minor=d.value.payment_partial_amount_minor??null:j.value&&re()}),J(()=>l.partial_amount_minor,a=>{if(!te.value||a===null||a===void 0)return;const t=S();t&&Number(a)>=t&&re()}),(a,t)=>(o(),n("div",Be,[t[23]||(t[23]=s("div",{class:"pointer-events-none absolute -left-28 top-12 h-72 w-72 rounded-full bg-emerald-200/70 blur-3xl"},null,-1)),t[24]||(t[24]=s("div",{class:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-amber-200/70 blur-3xl"},null,-1)),A(Ae,{success:ie.value,error:de.value},null,8,["success","error"]),s("div",Le,[A(De,{"app-name":w.appName,"is-authenticated":!!a.$page.props.auth?.user,"login-label":a.$page.props.auth?.user?.login},null,8,["app-name","is-authenticated","login-label"]),s("main",{class:g(["grid gap-6",{"lg:grid-cols-[240px_1fr]":X.value}])},[X.value?(o(),oe(Ue,{key:0,title:w.navigation?.title,data:Q.value,"active-href":w.activeHref},null,8,["title","data","active-href"])):u("",!0),s("div",Ee,[A(Me,{items:w.breadcrumbs},null,8,["items"]),t[10]||(t[10]=s("h1",{class:"text-3xl font-semibold text-slate-900"},"Бронирования",-1)),s("div",Fe,[s("label",ze,[t[9]||(t[9]=k(" Статус ",-1)),h(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>F.value=e),class:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},[(o(),n(B,null,L(ue,e=>s("option",{key:e.value,value:e.value},i(e.label),9,He)),64))],512),[[ne,F.value]])])]),Y.value.length?(o(),n("div",We,[(o(!0),n(B,null,L(Y.value,e=>(o(),n("article",{key:e.id,class:"rounded-2xl border border-slate-200 bg-white px-5 py-4"},[s("div",Ie,[s("div",null,[s("h2",qe,i(e.event?.title||"Событие"),1),s("p",Ge,i(e.event?.type?.label||"Тип не задан"),1),s("p",Je,i(me(e.starts_at,e.ends_at)),1),e.creator?.login?(o(),n("p",Ke," Создатель: "+i(e.creator.login),1)):u("",!0),e.moderator?.login?(o(),n("p",Qe," Модератор: "+i(e.moderator.login),1)):u("",!0),e.moderated_at?(o(),n("p",Xe," Модерация: "+i(v(e.moderated_at)),1)):u("",!0),e.moderation_source&&e.moderated_at?(o(),n("p",Ye," Изменено: "+i(ce(e.moderation_source)),1)):u("",!0),e.moderation_comment?(o(),n("p",Ze," Комментарий: "+i(e.moderation_comment),1)):u("",!0)]),s("div",et,[s("span",{class:g(["rounded-full border px-3 py-1 text-xs font-semibold uppercase tracking-[0.15em]",e.status==="approved"?"border-emerald-200 bg-emerald-50 text-emerald-700":e.status==="cancelled"?"border-rose-200 bg-rose-50 text-rose-700":e.status==="awaiting_payment"?"border-indigo-200 bg-indigo-50 text-indigo-700":e.status==="paid"?"border-sky-200 bg-sky-50 text-sky-700":"border-amber-200 bg-amber-50 text-amber-800"])},i(pe(e.status)),3),e.payment_order?(o(),n("span",tt," Порядок оплаты: "+i(e.payment_order),1)):u("",!0),e.payment_code?(o(),n("span",st," Платеж № "+i(e.payment_code),1)):u("",!0),se(e)?(o(),n("span",at," К оплате: "+i(_e(se(e))),1)):u("",!0),e.status==="awaiting_payment"?(o(),n("span",lt," Оплатить до: "+i(e.payment_due_at?v(e.payment_due_at):"бессрочно"),1)):u("",!0),s("div",rt,[e.can_await_payment?(o(),n("button",{key:0,class:"rounded-full border border-indigo-200 bg-indigo-50 px-3 py-1 text-xs font-semibold text-indigo-700 transition hover:-translate-y-0.5 hover:border-indigo-300",type:"button",disabled:r(l).processing,onClick:_=>ge(e)}," Просмотр заявки ",8,ot)):u("",!0),e.can_mark_paid?(o(),n("button",{key:1,class:"rounded-full border border-sky-200 bg-sky-50 px-3 py-1 text-xs font-semibold text-sky-700 transition hover:-translate-y-0.5 hover:border-sky-300",type:"button",disabled:r(b).processing,onClick:_=>he(e)}," Оплачено ",8,nt)):u("",!0),e.can_confirm?(o(),n("button",{key:2,class:"rounded-full border border-emerald-600 bg-emerald-600 px-3 py-1 text-xs font-semibold text-white transition hover:-translate-y-0.5 hover:bg-emerald-700",type:"button",disabled:r(c).processing,onClick:_=>ye(e)}," Подтвердить ",8,it)):u("",!0),e.can_cancel?(o(),n("button",{key:3,class:"rounded-full border border-rose-300 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-700 transition hover:-translate-y-0.5 hover:border-rose-400",type:"button",disabled:r(x).processing,onClick:_=>fe(e)}," Отменить ",8,dt)):u("",!0)])])])]))),128))])):(o(),n("div",Re," Бронирования не найдены. ")),w.bookings.links?.length?(o(),n("div",ut,[(o(!0),n(B,null,L(w.bookings.links,e=>(o(),oe(r(Oe),{key:e.label,class:g(["rounded-full border border-slate-200 px-3 py-1 text-slate-600 transition hover:-translate-y-0.5 hover:border-slate-300",{"bg-slate-900 text-white":e.active,"pointer-events-none opacity-50":!e.url}]),href:e.url||"",innerHTML:e.label},null,8,["class","href","innerHTML"]))),128))])):u("",!0)])],2),A(Ve,{"app-name":w.appName},null,8,["app-name"])]),O.value?(o(),n("div",mt,[s("div",pt,[s("form",{class:g({loading:r(c).processing}),onSubmit:E(we,["prevent"])},[s("div",{class:"popup-header flex items-center justify-between border-b border-slate-200/80 px-6 py-4"},[t[11]||(t[11]=s("h2",{class:"text-lg font-semibold text-slate-900"},"Подтвердить бронирование",-1)),s("button",{class:"rounded-full border border-slate-200 px-2.5 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700",type:"button","aria-label":"Закрыть",onClick:R}," x ")]),s("div",ct,[s("p",xt," Событие: "+i(d.value?.event?.title||"Событие"),1),s("p",bt,i(v(d.value?.starts_at))+" – "+i(v(d.value?.ends_at)),1),s("label",_t,[t[12]||(t[12]=k(" Комментарий (опционально) ",-1)),h(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>r(c).comment=e),class:"min-h-[100px] rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},null,512),[[T,r(c).comment]])]),r(c).errors.comment?(o(),n("div",vt,i(r(c).errors.comment),1)):u("",!0)]),s("div",yt,[s("button",{class:"rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 transition hover:-translate-y-0.5 hover:border-slate-300",type:"button",disabled:r(c).processing,onClick:R}," Закрыть ",8,ft),s("button",{class:"rounded-full border border-emerald-600 bg-emerald-600 px-4 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 hover:bg-emerald-700 disabled:cursor-not-allowed disabled:border-slate-300 disabled:bg-slate-200 disabled:text-slate-500 disabled:hover:translate-y-0",type:"submit",disabled:r(c).processing}," Подтвердить ",8,gt)])],34)])])):u("",!0),D.value?(o(),n("div",ht,[s("div",wt,[s("form",{class:g({loading:r(l).processing}),onSubmit:E(Se,["prevent"])},[s("div",{class:"popup-header flex items-center justify-between border-b border-slate-200/80 px-6 py-4"},[t[13]||(t[13]=s("h2",{class:"text-lg font-semibold text-slate-900"},"Просмотр заявки",-1)),s("button",{class:"rounded-full border border-slate-200 px-2.5 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700",type:"button","aria-label":"Закрыть",onClick:I}," x ")]),s("div",kt,[s("p",St," Событие: "+i(d.value?.event?.title||"Событие"),1),s("p",Tt,i(v(d.value?.starts_at))+" – "+i(v(d.value?.ends_at)),1),s("label",Nt,[t[14]||(t[14]=k(" Порядок оплаты ",-1)),h(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>r(l).payment_order_id=e),class:g(["rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700",C.value?"border-amber-400 bg-amber-50":""])},[(o(!0),n(B,null,L(z.value,e=>(o(),n("option",{key:e.value,value:e.value},i(e.label),9,$t))),128))],2),[[ne,r(l).payment_order_id]])]),r(l).errors.payment_order_id?(o(),n("div",Ct,i(r(l).errors.payment_order_id),1)):u("",!0),ee.value?u("",!0):(o(),n("div",Pt,[t[16]||(t[16]=s("span",{class:"text-xs uppercase tracking-[0.15em] text-slate-500"},"Срок ожидания оплаты",-1)),s("label",jt,[h(s("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>f.value=e),type:"checkbox",class:"input-switch"},null,512),[[je,f.value]]),t[15]||(t[15]=s("span",null,"В минутах",-1))]),h(s("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>r(l).payment_wait_minutes=e),type:"number",min:"0",step:xe.value,max:be.value,class:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},null,8,Ot),[[T,r(l).payment_wait_minutes,void 0,{number:!0}]])])),r(l).errors.payment_wait_minutes?(o(),n("div",Mt,i(r(l).errors.payment_wait_minutes),1)):u("",!0),s("label",Dt,[t[17]||(t[17]=k(" Стоимость ",-1)),h(s("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r(l).partial_amount_minor=e),type:"number",min:"1",class:g(["rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700",C.value||j.value?"border-amber-400 bg-amber-50":""])},null,2),[[T,r(l).partial_amount_minor,void 0,{number:!0}]])]),j.value?(o(),n("p",Vt," Стоимость равна или превышает полную. Проверьте порядок оплаты. ")):u("",!0),r(l).errors.partial_amount_minor?(o(),n("div",Ut,i(r(l).errors.partial_amount_minor),1)):u("",!0),s("label",At,[t[18]||(t[18]=k(" Комментарий (опционально) ",-1)),h(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>r(l).comment=e),class:"min-h-[100px] rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},null,512),[[T,r(l).comment]])]),r(l).errors.comment?(o(),n("div",Bt,i(r(l).errors.comment),1)):u("",!0)]),s("div",Lt,[s("button",{class:"rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 transition hover:-translate-y-0.5 hover:border-slate-300",type:"button",disabled:r(l).processing,onClick:I}," Закрыть ",8,Et),s("button",{class:"rounded-full border border-indigo-600 bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 hover:bg-indigo-700 disabled:cursor-not-allowed disabled:border-slate-300 disabled:bg-slate-200 disabled:text-slate-500 disabled:hover:translate-y-0",type:"submit",disabled:r(l).processing}," Сохранить ",8,Ft)])],34)])])):u("",!0),V.value?(o(),n("div",zt,[s("div",Ht,[s("form",{class:g({loading:r(b).processing}),onSubmit:E(Te,["prevent"])},[s("div",{class:"popup-header flex items-center justify-between border-b border-slate-200/80 px-6 py-4"},[t[19]||(t[19]=s("h2",{class:"text-lg font-semibold text-slate-900"},"Отметить оплату",-1)),s("button",{class:"rounded-full border border-slate-200 px-2.5 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700",type:"button","aria-label":"Закрыть",onClick:q}," x ")]),s("div",Rt,[s("p",Wt," Событие: "+i(d.value?.event?.title||"Событие"),1),s("p",It,i(v(d.value?.starts_at))+" – "+i(v(d.value?.ends_at)),1),s("label",qt,[t[20]||(t[20]=k(" Комментарий (опционально) ",-1)),h(s("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>r(b).comment=e),class:"min-h-[100px] rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},null,512),[[T,r(b).comment]])]),r(b).errors.comment?(o(),n("div",Gt,i(r(b).errors.comment),1)):u("",!0)]),s("div",Jt,[s("button",{class:"rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 transition hover:-translate-y-0.5 hover:border-slate-300",type:"button",disabled:r(b).processing,onClick:q}," Закрыть ",8,Kt),s("button",{class:"rounded-full border border-sky-600 bg-sky-600 px-4 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 hover:bg-sky-700 disabled:cursor-not-allowed disabled:border-slate-300 disabled:bg-slate-200 disabled:text-slate-500 disabled:hover:translate-y-0",type:"submit",disabled:r(b).processing}," Отметить ",8,Qt)])],34)])])):u("",!0),M.value?(o(),n("div",Xt,[s("div",Yt,[s("form",{class:g({loading:r(x).processing}),onSubmit:E(ke,["prevent"])},[s("div",{class:"popup-header flex items-center justify-between border-b border-slate-200/80 px-6 py-4"},[t[21]||(t[21]=s("h2",{class:"text-lg font-semibold text-slate-900"},"Отменить бронирование",-1)),s("button",{class:"rounded-full border border-slate-200 px-2.5 py-1 text-sm text-slate-500 transition hover:border-slate-300 hover:text-slate-700",type:"button","aria-label":"Закрыть",onClick:W}," x ")]),s("div",Zt,[s("p",es," Событие: "+i(d.value?.event?.title||"Событие"),1),s("p",ts,i(v(d.value?.starts_at))+" – "+i(v(d.value?.ends_at)),1),s("label",ss,[t[22]||(t[22]=k(" Комментарий (опционально) ",-1)),h(s("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>r(x).comment=e),class:"min-h-[100px] rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700"},null,512),[[T,r(x).comment]])]),r(x).errors.comment?(o(),n("div",as,i(r(x).errors.comment),1)):u("",!0)]),s("div",ls,[s("button",{class:"rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-600 transition hover:-translate-y-0.5 hover:border-slate-300",type:"button",disabled:r(x).processing,onClick:W}," Закрыть ",8,rs),s("button",{class:"rounded-full border border-rose-500 bg-rose-500 px-4 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 hover:bg-rose-600 disabled:cursor-not-allowed disabled:border-slate-300 disabled:bg-slate-200 disabled:text-slate-500 disabled:hover:translate-y-0",type:"submit",disabled:r(x).processing}," Отменить ",8,os)])],34)])])):u("",!0)]))}};export{ps as default};
