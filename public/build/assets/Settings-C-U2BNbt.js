import{c as n,u as k,a as N,b as m,d as e,f as o,n as S,g as $,e as p,l as j,j as g,k as v,h as i,t as _,o as r}from"./app-BG8bJDk_.js";import{_ as B}from"./Breadcrumbs-BJkTr2TQ.js";import{_ as V,a as D}from"./MainHeader-CSzL04-A.js";import{_ as E}from"./MainSidebar-Gh5823Zl.js";import{_ as O}from"./SystemNoticeStack-D6BD3byq.js";const C={class:"relative min-h-screen overflow-hidden bg-[#f7f1e6] text-slate-900"},H={class:"relative mx-auto flex max-w-[1360px] flex-col gap-8 px-6 py-8"},M={class:"rounded-3xl border border-slate-200/80 bg-white/90 p-6 shadow-sm page-content-wrapper"},U={class:"mt-6 rounded-2xl border border-slate-200 bg-white px-4 py-6"},z={class:"grid gap-2"},A={key:0,class:"text-xs text-rose-700"},F={class:"grid gap-2"},L={key:0,class:"text-xs text-rose-700"},P={class:"flex flex-wrap items-center justify-end gap-3"},T=["disabled"],Q={__name:"Settings",props:{appName:{type:String,default:"Laravel"},navigation:{type:Object,default:()=>({title:"Разделы",data:[]})},activeHref:{type:String,default:""},breadcrumbs:{type:Array,default:()=>[]},defaults:{type:Object,default:()=>({lead_time_minutes:15,min_duration_minutes:15})}},setup(s){const u=s,c=n(()=>u.navigation?.data??[]),f=n(()=>(c.value?.length??0)>0),b=k(),y=n(()=>b.props?.flash?.notice??""),a=n(()=>b.props?.errors??{}),h=n(()=>!a.value||!Object.keys(a.value).length?"":"Не удалось сохранить изменения. Проверьте значения."),l=N({lead_time_minutes:u.defaults?.lead_time_minutes??15,min_duration_minutes:u.defaults?.min_duration_minutes??15}),w=()=>{l.patch("/admin/settings",{preserveScroll:!0})};return(x,t)=>(r(),m("div",C,[t[6]||(t[6]=e("div",{class:"pointer-events-none absolute -left-28 top-12 h-72 w-72 rounded-full bg-emerald-200/70 blur-3xl"},null,-1)),t[7]||(t[7]=e("div",{class:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-amber-200/70 blur-3xl"},null,-1)),o(O,{success:y.value,error:h.value},null,8,["success","error"]),e("div",H,[o(V,{"app-name":s.appName,"is-authenticated":!!x.$page.props.auth?.user,"login-label":x.$page.props.auth?.user?.login},null,8,["app-name","is-authenticated","login-label"]),e("main",{class:S(["grid gap-6",{"lg:grid-cols-[240px_1fr]":f.value}])},[f.value?(r(),$(E,{key:0,title:s.navigation.title,data:c.value,"active-href":s.activeHref},null,8,["title","data","active-href"])):p("",!0),e("div",M,[o(B,{items:s.breadcrumbs},null,8,["items"]),t[4]||(t[4]=e("h1",{class:"text-3xl font-semibold text-slate-900"},"Настройки",-1)),t[5]||(t[5]=e("p",{class:"mt-2 text-sm text-slate-600"}," Дефолтные параметры времени событий. ",-1)),e("div",U,[e("form",{class:"space-y-6",onSubmit:j(w,["prevent"])},[e("div",z,[t[2]||(t[2]=e("label",{class:"text-xs font-semibold uppercase tracking-[0.15em] text-slate-500"}," Допустимое время до начала события (мин.) ",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>i(l).lead_time_minutes=d),type:"number",min:"0",max:"1440",class:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-800 outline-none transition focus:border-slate-400"},null,512),[[v,i(l).lead_time_minutes]]),a.value.lead_time_minutes?(r(),m("p",A,_(a.value.lead_time_minutes),1)):p("",!0)]),e("div",F,[t[3]||(t[3]=e("label",{class:"text-xs font-semibold uppercase tracking-[0.15em] text-slate-500"}," Минимальная длительность события (мин.) ",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>i(l).min_duration_minutes=d),type:"number",min:"1",max:"1440",class:"w-full rounded-2xl border border-slate-200 px-4 py-3 text-sm text-slate-800 outline-none transition focus:border-slate-400"},null,512),[[v,i(l).min_duration_minutes]]),a.value.min_duration_minutes?(r(),m("p",L,_(a.value.min_duration_minutes),1)):p("",!0)]),e("div",P,[e("button",{type:"submit",class:"rounded-full border border-slate-900 bg-slate-900 px-5 py-2 text-sm font-semibold text-white transition hover:-translate-y-0.5 hover:bg-slate-800",disabled:i(l).processing}," Сохранить ",8,T)])],32)])])],2),o(D,{"app-name":s.appName},null,8,["app-name"])])]))}};export{Q as default};
